(this.webpackJsonpproject_cubs=this.webpackJsonpproject_cubs||[]).push([[0],{116:function(e,t){},118:function(e,t){},127:function(e,t,c){"use strict";c.r(t);var n=c(7),r=c(81),a=c.n(r),s=(c(92),c(19)),i=c(9),o=(c(93),c(4)),j=function(){var e=JSON.parse(localStorage.getItem("user"));return e?Object(o.jsx)(i.b,{context:[e]}):Object(o.jsx)(i.a,{to:"/login"})},u=c(25),l=c(10),b=c(16),d=(c(95),c(82)),O=c(37),h=Object(d.a)({apiKey:"AIzaSyAQAHHA-IbHYG_rFXXLxqIAeViY8HdOBQI",authDomain:"projectcubs-ad577.firebaseapp.com",projectId:"projectcubs-ad577",storageBucket:"projectcubs-ad577.appspot.com",messagingSenderId:"908237608804",appId:"1:908237608804:web:fe7f162c8a51563ab20c71"}),f=Object(O.b)(h),x=Object(b.b)(h),p=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)([]),s=Object(l.a)(a,2),i=s[0],j=s[1],d=Object(n.useState)(""),O=Object(l.a)(d,2),h=O[0],p=O[1];return Object(n.useEffect)((function(){var e=Object(b.e)(x,"/users/".concat(f.currentUser.uid,"/bookmarked_words"));Object(b.c)(e,(function(e){for(var t in e.val()){console.log(e.val());var c=e.val();console.log("value",e.val()[t]);var n=[];for(var r in c)n.push(Object(u.a)({id:r},c[r]));console.log("wordArray",n),j(n)}}))}),[]),Object(o.jsx)("section",{children:Object(o.jsxs)("form",{className:"bookmark-form",children:[Object(o.jsx)("input",{type:"text",onChange:function(e){r(e.target.value)},defaultValue:c}),Object(o.jsx)("button",{onClick:function(e){e.preventDefault();var t=Object(b.e)(x,"/users/".concat(f.currentUser.uid,"/bookmarked_words"));Object(b.d)(t,{title:c})},type:"submit",children:"Bookmark"}),Object(o.jsx)("ul",{children:i.map((function(e){return Object(o.jsxs)("li",{children:[e.title,h===e.id?Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{type:"text",defaultValue:"...",onChange:function(t){!function(e,t){var c=Object(b.e)(x,"/users/".concat(f.currentUser.uid,"/bookmarked_words/").concat(e));Object(b.g)(c,{title:t}),p("")}(e.id,t.target.value)}}),Object(o.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),p("")},children:"Cancel"})]}):Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{type:"submit",onClick:function(t){var c;t.preventDefault(),c=e.id,p(c)},children:"Edit"}),Object(o.jsx)("button",{onClick:function(t){!function(e,t){var c=Object(b.e)(x,"/users/".concat(f.currentUser.uid,"/bookmarked_words/").concat(e));Object(b.f)(c)}(e.id)},type:"submit",children:"Delete"})]})]},e.id)}))})]})})},m=(c(96),function(){var e=Object(i.o)();return Object(o.jsxs)("div",{children:[Object(o.jsxs)("nav",{children:[Object(o.jsx)(s.b,{to:"/",className:"Links",children:Object(o.jsx)("h1",{children:"My K Star"})}),Object(o.jsxs)(s.b,{to:"/",className:"Links",children:[" ","Home"," "]}),Object(o.jsxs)(s.b,{to:"/scoreboard",className:"Links",children:[" ","Scoreboard"," "]}),Object(o.jsxs)(s.b,{to:"/dictionary",className:"Links",children:[" ","Dictionary"," "]}),Object(o.jsxs)(s.b,{to:"/learn",className:"Links",children:[" ","Learn"," "]}),Object(o.jsx)("button",{onClick:function(){localStorage.removeItem("user"),e("/login")},children:"Logout"})]}),Object(o.jsx)("hr",{className:"navbar-divider"})]})});function v(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(m,{}),Object(o.jsxs)("header",{children:[Object(o.jsxs)("blockquote",{children:[Object(o.jsx)("h1",{children:"My K Star Dictionary"}),Object(o.jsx)("footer",{children:Object(o.jsx)("h2",{children:"Find meanings and save for quick reference"})})]}),Object(o.jsx)(p,{})]})]})}function g(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(m,{}),Object(o.jsx)("main",{children:Object(o.jsx)("h1",{children:" Home "})})]})}var y=c(0),k=c(2);function w(){return(w=Object(k.a)(Object(y.a)().mark((function e(){var t;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.e)(x,"/songs"),e.next=3,Object(b.a)(t);case 3:return e.abrupt("return",e.sent.val());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){var t=e.song,c=Object(u.a)({},t),n=c.album_url,r=c.artist,a=c.title,s=Object(i.o)();return Object(o.jsxs)("aside",{children:[Object(o.jsxs)("h3",{children:[" ",a," "]}),Object(o.jsxs)("figure",{children:[Object(o.jsx)("img",{src:n,alt:"album"}),Object(o.jsx)("figcaption",{children:Object(o.jsxs)("i",{children:[" Artist: ",r," "]})})]}),Object(o.jsx)("button",{onClick:function(){s("/lyric-player",{state:{song:t}})},children:"Sing!"})]})}function S(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){(function(){return w.apply(this,arguments)})().then((function(e){return r(e)}))}),[]),Object(o.jsxs)("div",{children:[Object(o.jsx)(m,{}),Object(o.jsxs)("main",{children:[Object(o.jsx)("h1",{children:" Learn "}),Object(o.jsx)("section",{children:c.map((function(e,t){return Object(o.jsx)(N,{song:e},t)}))})]})]})}function C(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){Object(b.c)(Object(b.e)(x,"/users"),(function(e){var t=Object.values(e.val());t&&r(t.map((function(e){return function(e){var t=e.highScore.song||0,c=e.highScore.quiz||0;return t>c?{name:"".concat(e.firstName," ").concat(e.lastName),type:"song",score:t}:{name:"".concat(e.firstName," ").concat(e.lastName),type:"quiz",score:c}}(e)})).sort((function(e,t){return t.score-e.score})).slice(0,9))}))}),[]),Object(o.jsxs)("div",{children:[Object(o.jsx)(m,{}),Object(o.jsxs)("main",{children:[Object(o.jsx)("h1",{children:" Scoreboard "}),Object(o.jsxs)("table",{children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Name"}),Object(o.jsx)("th",{children:"Type"}),Object(o.jsx)("th",{children:"Score"})]})}),Object(o.jsx)("tbody",{children:c.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.type}),Object(o.jsx)("td",{children:e.score})]},t)}))})]})]})]})}var D=function(e){return{email:e.email,firstName:e.firstName,lastName:e.lastName,highScore:{song:0,quiz:0},bookmark:[]}};function A(e){return E.apply(this,arguments)}function E(){return(E=Object(k.a)(Object(y.a)().mark((function e(t){var c,n,r,a,s,i;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.email,n=t.password,r=t.firstName,a=t.lastName,e.next=3,Object(O.a)(f,c,n);case 3:return s=e.sent,i=Object(b.e)(x,"/users/".concat(f.currentUser.uid)),e.next=7,Object(b.g)(i,D({email:c,firstName:r,lastName:a}));case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return _.apply(this,arguments)}function _(){return(_=Object(k.a)(Object(y.a)().mark((function e(t){var c,n;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.email,n=t.password,e.next=3,Object(O.c)(f,c,n).then((function(e){var t=e.user;return localStorage.setItem("user",JSON.stringify(t)),t})).catch((function(e){throw e}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return B.apply(this,arguments)}function B(){return(B=Object(k.a)(Object(y.a)().mark((function e(){var t,c;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.currentUser.uid,c=Object(b.e)(x,"/users/".concat(t)),e.next=4,Object(b.a)(c);case 4:return e.abrupt("return",e.sent.val());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return P.apply(this,arguments)}function P(){return(P=Object(k.a)(Object(y.a)().mark((function e(t){var c,n;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=f.currentUser.uid,n=Object(b.e)(x,"/users/".concat(c)),e.next=4,Object(b.h)(n,t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){var e=Object(n.useState)("test@gmail.com"),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)("password"),s=Object(l.a)(a,2),j=s[0],u=s[1],b=Object(n.useState)(""),d=Object(l.a)(b,2),O=d[0],h=d[1],f=Object(i.o)(),x=function(){var e=Object(k.a)(Object(y.a)().mark((function e(t){var n,r;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c&&j){e.next=4;break}return h("Please enter email and password."),e.abrupt("return");case 4:return e.prev=4,e.next=7,L({email:c,password:j});case 7:f("/"),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(4),n=e.t0.code,r=e.t0.message,console.error("Error: ".concat(n," - ").concat(r)),h("Error: ".concat(n," - ").concat(r));case 16:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{children:[Object(o.jsxs)("form",{children:[Object(o.jsxs)("label",{children:["Email:",Object(o.jsx)("input",{type:"email",value:c,onChange:function(e){return r(e.target.value)}})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:["Password:",Object(o.jsx)("input",{type:"password",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{type:"submit",onClick:x,children:"Login"}),Object(o.jsx)("button",{type:"register",onClick:function(e){e.preventDefault(),f("/register")},children:"Sign Up / Register"})]}),O&&Object(o.jsx)("code",{children:O})]})}function H(){return Object(o.jsxs)("main",{children:[Object(o.jsx)("h1",{children:"Welcome! "}),Object(o.jsx)("hr",{}),Object(o.jsx)(q,{})]})}var R=c(3);function F(){var e=Object(n.useState)({firstName:"",lastName:"",email:"",password:""}),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),s=Object(l.a)(a,2),j=s[0],b=s[1],d=Object(i.o)(),O=function(e){return r(Object(u.a)(Object(u.a)({},c),{},Object(R.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(k.a)(Object(y.a)().mark((function e(t){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,A(c);case 4:alert("Registration successful. Please login."),d("/login"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{children:[Object(o.jsxs)("form",{children:[Object(o.jsxs)("label",{children:["First Name:",Object(o.jsx)("input",{type:"text",name:"firstName",value:c.firstName,onChange:O})]}),Object(o.jsxs)("label",{children:["Last Name:",Object(o.jsx)("input",{type:"text",name:"lastName",value:c.lastName,onChange:O})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:["Email:",Object(o.jsx)("input",{type:"email",name:"email",value:c.email,onChange:O})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:["Password:",Object(o.jsx)("input",{type:"password",name:"password",value:c.password,onChange:O})]}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{type:"submit",onClick:h,children:"Sign Up"}),Object(o.jsx)("button",{type:"button",onClick:function(){return d("/login")},children:"Back to Login"})]}),j&&Object(o.jsx)("code",{children:j})]})}function T(){return Object(o.jsxs)("main",{children:[Object(o.jsx)("h1",{children:"Welcome! "}),Object(o.jsx)("h2",{children:"Are you a new user? You can register you're self bellow!"}),Object(o.jsx)("hr",{}),Object(o.jsx)(F,{})]})}c(97);var z=c(83),J=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(s.b,{to:"/learn",className:"Links backButton",children:Object(o.jsx)(z.a,{icon:"fa-solid fa-arrow-left",style:{color:"#ffffff"},className:"icons"})})})},M=c(84),Y=function(e){var t=e.lyrics,c=e.currentLineIndex,n=function(){var e=Object(k.a)(Object(y.a)().mark((function e(t,c){var n,r,a,s,i,o,j,u;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),"https://krdict.korean.go.kr/api/search","6D2D4A2932300CDC30C0B8758BD8FEA1",s=c,"y","1",e.next=8,fetch("".concat("https://krdict.korean.go.kr/api/search","?key=").concat("6D2D4A2932300CDC30C0B8758BD8FEA1","&q=").concat(s,"&translated=").concat("y","&trans_lang=").concat("1"));case 8:return i=e.sent,e.next=11,i.text();case 11:return o=e.sent,e.next=14,Object(M.parseStringPromise)(o);case 14:j=e.sent,(u=null===(n=j.channel.item)||void 0===n||null===(r=n[0].sense)||void 0===r||null===(a=r[0].translation)||void 0===a?void 0:a[0].trans_dfn)?alert("Definition: ".concat(u)):alert("No definition found");case 17:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),r=function(e){if(""===e)return"\u2022";var t=e.split(/\s+/),c=function(e){return e.match(/[\uAC00-\uD7AF]+/g)}(e);return t.map((function(e,t){return null!==c&&void 0!==c&&c.includes(e)?Object(o.jsxs)("a",{onClick:function(t){return n(t,e)},children:[" "," ".concat(e," ")," \xa0"]},t):" ".concat(e," ")}))};return Object(o.jsx)("div",{className:"lyrics",children:t.map((function(e,t){return Object(o.jsx)("div",{className:c===t?"highlighted":"",note:e.note,children:r(e.line)},t)}))})},K=function(e){var t=e.music_url,c=e.album_url,n=e.title,r=e.artist,a=e.audioRef,s=e.handleTimeUpdate,i=e.handleAudioEnd;return Object(o.jsxs)("div",{className:"player",children:[Object(o.jsx)("div",{className:"left",style:{backgroundImage:"url(".concat(c,")")}}),Object(o.jsxs)("div",{className:"right",children:[Object(o.jsxs)("div",{className:"top",children:[Object(o.jsx)("a",{className:"song",children:n}),Object(o.jsx)("a",{className:"artist",children:r})]}),Object(o.jsx)("div",{className:"bottom",children:Object(o.jsx)("audio",{ref:a,controls:!0,autoPlay:!0,name:"media",onTimeUpdate:s,onEnded:i,children:Object(o.jsx)("source",{src:t,type:"audio/mpeg"})})})]})]})},V=function(e){var t=e.score,c=Object(i.o)();return t&&Object(o.jsx)("div",{className:"score",children:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("h1",{className:"scoreDisplay",children:[" Your score: ",Object(o.jsx)("br",{})," \ud83c\udfa4 ",t," \ud83c\udfa4"]}),Object(o.jsxs)("div",{className:"scoreBoardNavBtn",children:[Object(o.jsx)("button",{onClick:function(){return c("/scoreboard")},children:"Scoreboard"}),Object(o.jsx)("button",{onClick:function(){return alert("Practice Again")},children:"Practice Again"}),Object(o.jsx)("button",{onClick:function(){return c("/learn")},children:"Other songs"})]})]})})};function Q(e){return W.apply(this,arguments)}function W(){return(W=Object(k.a)(Object(y.a)().mark((function e(t){var c,n;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:if(c=e.sent,n=c.highScore.song||0,e.t0=t>n,!e.t0){e.next=8;break}return e.next=8,U({highScore:{song:t}});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=function(){var e,t=(null===(e=Object(i.m)().state)||void 0===e?void 0:e.song)||{},c=t.music_url,r=t.album_url,a=t.artist,s=t.title,j=t.lyrics,u=Object(n.useState)(0),b=Object(l.a)(u,2),d=b[0],O=b[1],h=Object(n.useState)(null),f=Object(l.a)(h,2),x=f[0],p=f[1],m=Object(n.useRef)(null),v=Object(n.useRef)(null),g=function(){var e=document.querySelector(".highlighted");if(e&&m.current){var t=e.offsetHeight,c=m.current.offsetHeight,n=e.offsetTop-(c-t)/2;m.current.scrollTop=n}},w=function(){var e=Object(k.a)(Object(y.a)().mark((function e(){var t;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=1e3*v.current.currentTime,O((function(e){var c=j.filter((function(e){return e.time<t}));return c.length!==e&&g(),c.length-1}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(k.a)(Object(y.a)().mark((function e(){var t;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.floor(100*Math.random()),e.next=3,Q(x);case 3:p(t),v.current.controls=!1;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return window.addEventListener("resize",g),function(){window.removeEventListener("resize",g)}}),[]),Object(o.jsxs)("div",{className:"pbody",children:[Object(o.jsx)(J,{}),Object(o.jsx)("div",{className:"content",ref:m,children:Object(o.jsx)(Y,{lyrics:j,currentLineIndex:d})}),Object(o.jsx)(K,{music_url:c,album_url:r,title:s,artist:a,audioRef:v,handleTimeUpdate:w,handleAudioEnd:N}),Object(o.jsx)(V,{score:x})]})},G=c(85);c(31).b.add(G.a);var Z=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(s.a,{basename:"/".concat("/ProjectCubs_CodeRepo"),children:Object(o.jsxs)(i.e,{children:[Object(o.jsxs)(i.c,{element:Object(o.jsx)(j,{}),children:[Object(o.jsx)(i.c,{path:"/",element:Object(o.jsx)(g,{})}),Object(o.jsx)(i.c,{path:"/learn",element:Object(o.jsx)(S,{})}),Object(o.jsx)(i.c,{path:"/dictionary",element:Object(o.jsx)(v,{})}),Object(o.jsx)(i.c,{path:"/scoreboard",element:Object(o.jsx)(C,{})}),Object(o.jsx)(i.c,{path:"/lyric-player",element:Object(o.jsx)(X,{})})]}),Object(o.jsx)(i.c,{path:"/register",element:Object(o.jsx)(T,{})}),Object(o.jsx)(i.c,{path:"/login",element:Object(o.jsx)(H,{})})]})})})};a.a.createRoot(document.getElementById("root")).render(Object(o.jsx)(Z,{}))},92:function(e,t,c){},93:function(e,t,c){},95:function(e,t,c){},96:function(e,t,c){},97:function(e,t,c){}},[[127,1,2]]]);
//# sourceMappingURL=main.92fa26c4.chunk.js.map